{"ast":null,"code":"var _jsxFileName = \"/Users/oliv/Documents/GIT_PROJET03/lyon-0919-react-p2-springfield-vice/springfield_vice/src/components/Joystick.js\";\nimport React from \"react\";\nimport Joystick from \"react-joystick\";\nimport config from \"./configSpringfieldVice.json\"; // Options à garder en entier le temps des tests.\n\nconst joystickOptions = {\n  zone: document.getElementById(\"test\"),\n  // Où mettre l'élément\n  //  color: '#fff',                        // Couleur du js (blanc par défaut)\n  //  size: 100,                            // Taille du js (100 par défaut)\n  threshold: 0.5,\n  // Force nécessaire (entre 0 et 1)\n  //  fadeTime: 250,                        // Temps d'apparition (250 s. par défaut)\n  multitouch: true,\n  // Pas en mode 'static' ou 'semi' : a voir\n  // maxNumberOfNipples: 2,                // En MT, le nombre maxi d'instances\n  dataOnly: false,\n  // Que les données en sortie (et plus de joystick !)\n  position: {\n    left: config.joystick.positionX,\n    bottom: config.joystick.positionY\n  },\n  // Position en mode 'static' : {left: '10%', bottom: '10%'}\n  mode: \"static\",\n  // 'dynamic', 'static' ou 'semi'\n  restJoystick: true,\n  // Retour au centre du js quand repos\n  restOpacity: 0.7,\n  // Opacité - hors mode 'dynamic' (défaut à 0.5)\n  lockX: false,\n  // Bloqué sur l'axe horizontal (?)\n  lockY: false,\n  // Bloqué sur l'axe vertical (?)\n  //  catchDistance: 50,                    // En mode 'semi', périmètre réservé pour garder le js\n  dynamicPage: true // Mettre true si DOM dynamique (comme react)\n\n};\n\nclass JoyWrapper extends React.Component {\n  constructor(props) {\n    super(props);\n    this.joystickContainer = {\n      // possibiité de limiter la place du joystick\n      height: \"100%\",\n      overflow: \"hidden\"\n    };\n\n    this.managerListener = manager => {\n      manager.on(\"start\", () => {\n        // Appui par pression\n        this.props.startRunning(); // this.props.move(\n        // \tMath.floor(manager[0].frontPosition.x) / config.joystick.vitesseX,\n        // \tMath.floor(manager[0].frontPosition.y) / config.joystick.vitesseY\n        // \t);\n      });\n      manager.on(\"move\", () => {\n        // Action à l'appui long\n        this.props.setStep(Math.floor(manager[0].frontPosition.x) / config.joystick.vitesseX, Math.floor(manager[0].frontPosition.y) / config.joystick.vitesseY);\n      });\n      manager.on(\"end\", () => {\n        // Action au relacher\n        this.props.stopRunning();\n      });\n    };\n\n    this.state = {};\n  }\n\n  render() {\n    const displayJoystick = !this.props.displayJoystick ? \"block\" : \"none\";\n    const joystickStyle = {\n      display: displayJoystick\n    };\n    return React.createElement(\"div\", {\n      id: \"joystick\",\n      style: joystickStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Joystick, {\n      options: joystickOptions,\n      containerStyle: this.joystickContainer,\n      managerListener: this.managerListener,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default JoyWrapper;","map":{"version":3,"sources":["/Users/oliv/Documents/GIT_PROJET03/lyon-0919-react-p2-springfield-vice/springfield_vice/src/components/Joystick.js"],"names":["React","Joystick","config","joystickOptions","zone","document","getElementById","threshold","multitouch","dataOnly","position","left","joystick","positionX","bottom","positionY","mode","restJoystick","restOpacity","lockX","lockY","dynamicPage","JoyWrapper","Component","constructor","props","joystickContainer","height","overflow","managerListener","manager","on","startRunning","setStep","Math","floor","frontPosition","x","vitesseX","y","vitesseY","stopRunning","state","render","displayJoystick","joystickStyle","display"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,MAAP,MAAmB,8BAAnB,C,CAEA;;AAEA,MAAMC,eAAe,GAAG;AACvBC,EAAAA,IAAI,EAAEC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CADiB;AACgB;AACvC;AACA;AACAC,EAAAA,SAAS,EAAE,GAJY;AAIP;AAChB;AACAC,EAAAA,UAAU,EAAE,IANW;AAMe;AACtC;AACAC,EAAAA,QAAQ,EAAE,KARa;AAQN;AACjBC,EAAAA,QAAQ,EAAE;AAAEC,IAAAA,IAAI,EAAET,MAAM,CAACU,QAAP,CAAgBC,SAAxB;AAAmCC,IAAAA,MAAM,EAAEZ,MAAM,CAACU,QAAP,CAAgBG;AAA3D,GATa;AAS2D;AAClFC,EAAAA,IAAI,EAAE,QAViB;AAUP;AAChBC,EAAAA,YAAY,EAAE,IAXS;AAWH;AACpBC,EAAAA,WAAW,EAAE,GAZU;AAYL;AAClBC,EAAAA,KAAK,EAAE,KAbgB;AAaT;AACdC,EAAAA,KAAK,EAAE,KAdgB;AAcT;AACd;AACAC,EAAAA,WAAW,EAAE,IAhBU,CAgBL;;AAhBK,CAAxB;;AAmBA,MAAMC,UAAN,SAAyBtB,KAAK,CAACuB,SAA/B,CAAyC;AACxCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AADkB,SAMnBC,iBANmB,GAMC;AACnB;AACAC,MAAAA,MAAM,EAAE,MAFW;AAGnBC,MAAAA,QAAQ,EAAE;AAHS,KAND;;AAAA,SAanBC,eAbmB,GAaAC,OAAD,IAAa;AAC9BA,MAAAA,OAAO,CAACC,EAAR,CAAW,OAAX,EAAoB,MAAM;AACzB;AACA,aAAKN,KAAL,CAAWO,YAAX,GAFyB,CAGzB;AACC;AACA;AACA;AACA,OAPF;AAQCF,MAAAA,OAAO,CAACC,EAAR,CAAW,MAAX,EAAmB,MAAM;AACxB;AACA,aAAKN,KAAL,CAAWQ,OAAX,CACCC,IAAI,CAACC,KAAL,CAAWL,OAAO,CAAC,CAAD,CAAP,CAAWM,aAAX,CAAyBC,CAApC,IAAyCnC,MAAM,CAACU,QAAP,CAAgB0B,QAD1D,EAECJ,IAAI,CAACC,KAAL,CAAWL,OAAO,CAAC,CAAD,CAAP,CAAWM,aAAX,CAAyBG,CAApC,IAAyCrC,MAAM,CAACU,QAAP,CAAgB4B,QAF1D;AAIC,OANF;AAOCV,MAAAA,OAAO,CAACC,EAAR,CAAW,KAAX,EAAkB,MAAM;AACvB;AACA,aAAKN,KAAL,CAAWgB,WAAX;AACA,OAHD;AAIA,KAjCgB;;AAElB,SAAKC,KAAL,GAAa,EAAb;AAEA;;AA+BDC,EAAAA,MAAM,GAAG;AACR,UAAMC,eAAe,GAAG,CAAC,KAAKnB,KAAL,CAAWmB,eAAZ,GAA8B,OAA9B,GAAwC,MAAhE;AACA,UAAMC,aAAa,GAAG;AACrBC,MAAAA,OAAO,EAAEF;AADY,KAAtB;AAIA,WACC;AAAK,MAAA,EAAE,EAAC,UAAR;AAAmB,MAAA,KAAK,EAAEC,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC,oBAAC,QAAD;AACC,MAAA,OAAO,EAAE1C,eADV;AAEC,MAAA,cAAc,EAAE,KAAKuB,iBAFtB;AAGC,MAAA,eAAe,EAAE,KAAKG,eAHvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADD;AASA;;AAnDuC;;AAsDzC,eAAeP,UAAf","sourcesContent":["import React from \"react\";\nimport Joystick from \"react-joystick\";\nimport config from \"./configSpringfieldVice.json\";\n\n// Options à garder en entier le temps des tests.\n\nconst joystickOptions = {\n\tzone: document.getElementById(\"test\"), // Où mettre l'élément\n\t//  color: '#fff',                        // Couleur du js (blanc par défaut)\n\t//  size: 100,                            // Taille du js (100 par défaut)\n\tthreshold: 0.5, // Force nécessaire (entre 0 et 1)\n\t//  fadeTime: 250,                        // Temps d'apparition (250 s. par défaut)\n\tmultitouch: true,                     // Pas en mode 'static' ou 'semi' : a voir\n\t// maxNumberOfNipples: 2,                // En MT, le nombre maxi d'instances\n\tdataOnly: false, // Que les données en sortie (et plus de joystick !)\n\tposition: { left: config.joystick.positionX, bottom: config.joystick.positionY }, // Position en mode 'static' : {left: '10%', bottom: '10%'}\n\tmode: \"static\", // 'dynamic', 'static' ou 'semi'\n\trestJoystick: true, // Retour au centre du js quand repos\n\trestOpacity: 0.7, // Opacité - hors mode 'dynamic' (défaut à 0.5)\n\tlockX: false, // Bloqué sur l'axe horizontal (?)\n\tlockY: false, // Bloqué sur l'axe vertical (?)\n\t//  catchDistance: 50,                    // En mode 'semi', périmètre réservé pour garder le js\n\tdynamicPage: true // Mettre true si DOM dynamique (comme react)\n};\n\nclass JoyWrapper extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t};\n\t}\n\n\tjoystickContainer = {\n\t\t// possibiité de limiter la place du joystick\n\t\theight: \"100%\",\n\t\toverflow: \"hidden\",\n\t};\n\n\t\n\tmanagerListener = (manager) => {\n\t\tmanager.on(\"start\", () => {\n\t\t\t// Appui par pression\n\t\t\tthis.props.startRunning();\n\t\t\t// this.props.move(\n\t\t\t\t// \tMath.floor(manager[0].frontPosition.x) / config.joystick.vitesseX,\n\t\t\t\t// \tMath.floor(manager[0].frontPosition.y) / config.joystick.vitesseY\n\t\t\t\t// \t);\n\t\t\t});\n\t\t\tmanager.on(\"move\", () => {\n\t\t\t\t// Action à l'appui long\n\t\t\t\tthis.props.setStep(\n\t\t\t\t\tMath.floor(manager[0].frontPosition.x) / config.joystick.vitesseX,\n\t\t\t\t\tMath.floor(manager[0].frontPosition.y) / config.joystick.vitesseY\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tmanager.on(\"end\", () => {\n\t\t\t\t\t// Action au relacher\n\t\t\t\t\tthis.props.stopRunning();\n\t\t\t\t});\n\t\t\t};\n\t\t\t\n\trender() {\n\t\tconst displayJoystick = !this.props.displayJoystick ? \"block\" : \"none\";\n\t\tconst joystickStyle = {\n\t\t\tdisplay: displayJoystick,\n\t\t}\n\n\t\treturn (\n\t\t\t<div id=\"joystick\" style={joystickStyle}>\n\t\t\t\t<Joystick\n\t\t\t\t\toptions={joystickOptions}\n\t\t\t\t\tcontainerStyle={this.joystickContainer}\n\t\t\t\t\tmanagerListener={this.managerListener}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default JoyWrapper;\n"]},"metadata":{},"sourceType":"module"}
(this.webpackJsonpspringfield_vice=this.webpackJsonpspringfield_vice||[]).push([[0],[,function(t){t.exports=JSON.parse('{"background":{"position":"-360px","height":"100vh","defilement":0.05},"limits":{"topLimit":150,"rightLimit":480,"bottomLimit":300,"leftLimit":200},"joystick":{"vitesseX":60,"vitesseY":10,"positionX":"80px","positionY":"80px"},"initialPosition":{"x":80,"y":150},"homerSize":{"scale":0.003,"height":"150px"},"donutSize":{"width":"25px"},"timer":{"seconds":200},"start":{"firstScreen":true},"item":{"scale":0.003},"obstacle":{"scale":0.008},"modal":{"music":true,"sounds":true},"bart":{"scale":0.005},"selma":{"scale":0.007},"seymour":{"scale":0.007}}')},,,,,,,,,,,,,function(t,e,i){t.exports=i.p+"static/media/donut.f51f0b31.png"},,function(t,e,i){t.exports=i.p+"static/media/biere.e59e6c67.png"},,,,,,function(t,e,i){t.exports=i.p+"static/media/biere_no.551db2a5.png"},,,,,function(t,e,i){t.exports=i.p+"static/media/springfieldvice.051846e2.png"},function(t,e,i){t.exports=i.p+"static/media/bart2blur.53da5cf3.png"},function(t,e,i){t.exports=i.p+"static/media/homerjumping.2cd73442.png"},,function(t,e,i){t.exports=i.p+"static/media/ripchain.461f04be.png"},,function(t,e,i){t.exports=i.p+"static/media/barrel.a4d41654.png"},function(t,e,i){t.exports=i(53)},,,,,function(t,e,i){},function(t,e,i){},,,,,,function(t,e,i){},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAAFoCAYAAAB65WHVAAAFA0lEQVR42u3WsQ2AMBAEQWqj/44+AFEAIdLazJRwL698HAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC4XlgGIBhnkQaIB1qoAcJxFmqABQIt0gDhQAs1QDzQQg0QD7RIA4QDLdQA8UALNUA80CINEA60UAPEAy3UAPFAizRAONBCDRAPtEgDhAMt1ADxQAs1QDzQIg0QDrRQA8QDLdSAQIs0gEALNcCmgRZqQKBFGkCghRpg00ALNSDQIg0g0EINCPTmXBgQaJEGEGihBgRaqAEEWqQBBFqoAYEWaQCBFmpAoIUaQKBFGhBohBoQaJEGEGihBgRaqAEEWqQBgUaoAYEWagCBFmpAoEUaQKCFGhBoRBoQaKEGEGihBgQakQYEWqgBgUakAYEWakCgEWpAoBFpQKCFGhBoRBoQaKEGBBqhBgQakQYEWqgBgUaoAYEWaUCgEWpAoBFqEGhEGhBohBoQaIQaBBqhBgQakQaBRqgBgUakAYFGqEGgEWlAoBFqEGiEGhBoRBoEGoQaBBqRBgQaoQaBRqgBgUakQaBBqEGgEWpAoBFpEGgQahBohBoEGkQaBBqhBgQaoQaBBpEGgUaoQaBBqEGgEWoQaBBpEGgQaRBohBoEGoQaBBqRBoEGoQaBBqEGgUakQaBBqEGgQaQRaBBqEGgQagQahBoEGkQaBBqEGoEGoQaBBpFGoEGoQaBBqEGgQaQRaBBqEGgQaQQahBoEGoQagQZEGoEGoQaBBqFGoAGRRqBBqBFoQKgRaBBpEGgQagQaEGoEGkQagQaEGoEGkQZPBIQagQaEGoEGkUagAZFGoEGkEWhAoBFoQKARaBBoBBoQZwQaBBqBBoQZgQZxBoEGYUagAWFGoEGcEWhAmBFoEGcEGhBmBBqEGQQahBmBBnEGgYaUmTnVBIEGv2YEGhBmBBqEGQQaxBmBBmEGgQZxRqBBmEGgQZgRaECcEWgQZhBoEGYEGsQZBBqEGYEGYQaBBnEGgUaYQaBBmEGgQZgRaBBnEGgQZhBoxBkEGoQZBBphBoEGcQaBRphBoEGYQaBBnEGgEWYQaBBnEGiEGQQaPjIzpxcIAo1fMwg0CDMINMIMAg3iDAKNMAMCjTCDQCPOgEAjzCDQIMwg0IgzCDQIMwg0wgwINOIMAo0wAwKNOINAI8yAQCPMgEAjziDQCDMg0IgzCDTCDAg0wgwCjTgDAo0wAwItzIBAI86AQCPMINAIMyDQiDMg0MIMCDTCDAi0OAMCjTADAo0wAwItzoBAI8yAQIszINAIMyDQ4gwINMIMCLQwAwi0OAMCjTADAi3MgEAjzoBACzOAQIszINDCDCDQwgwItDADCLQ4AwKNMAMCLcwAAi3OgEALM4BAizMg0MIMINDCDCDQ4gwItDADCLQwAwItzgACLcyAQIszgEALM8D/Au2agECLM4BACzMg0MIMINDiDLBZoF0LEGhhBhBoYQZYLNAuAwi0MAMItDgDLBZoVwCIBdr6AMFAWx4gFmiLAwQDbW2AWKCtDBALtHUBgoG2LEAs0BYFCAbamgCxQFsRIBZo6wHEAm01gGCgLQYQi7SVAGKRtgxAMNIWAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAf7gBmePeU94qPCIAAAAASUVORK5CYII="},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var o=i(0),s=i.n(o),n=i(17),a=i.n(n),r=(i(39),i(8)),l=i(12),p=i(2),m=i(3),c=i(5),u=i(4),d=i(6),h=i(1),g=(i(40),{display:"flex",position:"fixed",left:0,top:0,bottom:0,right:0,backgroundColor:"rgba(0,0,0,.5)",color:"#FFF",fontSize:"20px"}),b=function(t){function e(t){var i;return Object(p.a)(this,e),(i=Object(c.a)(this,Object(u.a)(e).call(this,t))).toggleMusic=function(){i.setState({music:!i.state.music}),i.state.music},i.toggleSounds=function(){i.setState({sounds:!i.state.sounds}),i.state.sounds},i.state={music:h.modal.music,sounds:h.modal.sounds},i}return Object(d.a)(e,t),Object(m.a)(e,[{key:"showHeader",value:function(){var t=this,e=s.a.createElement(s.a.Fragment,null,s.a.createElement("button",null,"SCORES"),s.a.createElement("button",{onClick:function(){return t.toggleSounds()}},"SOUNDS ",this.state.sounds?"OFF":"ON"),s.a.createElement("button",{onClick:function(){return t.toggleMusic()}},"MUSIC ",this.state.music?"OFF":"ON")),i=[];switch(this.props.origin){case"start":i.header="Settings",i.quote="Trying is the first step towards failure.",i.buttons=s.a.createElement(s.a.Fragment,null,e,s.a.createElement(r.b,{to:"/game"},s.a.createElement("button",null,"PLAY")),s.a.createElement("button",{id:"close",onClick:function(){return t.props.close()}},"X"));break;case"go_win":i.header="GOOD JOB !",i.quote="Stupid risks make life worth living.",i.buttons=s.a.createElement(s.a.Fragment,null,s.a.createElement("button",null,"SCORES"),s.a.createElement(r.b,{to:"/"},s.a.createElement("button",null,"RESTART"))),this.props.hide(!0);break;case"go_lost":i.header="GAME OVER",i.quote="Kids, you tried your best, and you failed miserably. The lesson is: never try.",i.buttons=s.a.createElement(s.a.Fragment,null,s.a.createElement("button",null,"SCORES"),s.a.createElement(r.b,{to:"/"},s.a.createElement("button",null,"RESTART"))),this.props.hide(!0);break;default:i.header="PAUSE",i.quote="Do you need a break or are you giving up?",i.buttons=s.a.createElement(s.a.Fragment,null,s.a.createElement(r.b,{to:"/"},s.a.createElement("button",null,"RESTART")),e,s.a.createElement(r.b,{to:{pathname:"/game",search:""}},s.a.createElement("button",{onClick:function(){return t.props.resume()}},"RESUME"),s.a.createElement("button",{id:"close",onClick:function(){return t.props.resume()}},"X"))),this.props.hide()}return i}},{key:"render",value:function(){return Object(n.createPortal)(s.a.createElement("div",{style:g,className:"modal",onClick:this.props.onClick},s.a.createElement("div",{className:"modal-wrapper"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h3",null,this.showHeader().header)),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,this.showHeader().quote)),s.a.createElement("div",null,this.showHeader().buttons))),document.getElementById("modal_root"))}}]),e}(o.Component),A=(i(46),i(27)),E=i.n(A),f=i(28),B=i.n(f),v=i(29),y=i.n(v),O=(i(47),function(t){function e(t){var i;return Object(p.a)(this,e),(i=Object(c.a)(this,Object(u.a)(e).call(this,t))).startingGame=function(){i.setState({firstScreen:!1})},i.state={firstScreen:h.start.firstScreen},i}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this,e=new URLSearchParams(this.props.location.search);return s.a.createElement("div",{id:"init_div"},s.a.createElement("audio",{ref:"audio_tag",src:"http://www.allard-jacquin.com/simpsons.mp3",controls:!0,autoPlay:!0,type:"audio/mp3"}),s.a.createElement("div",{className:"start_div",style:{display:this.state.firstScreen?"block":"none"}},s.a.createElement("img",{className:"sprvicelogo",src:E.a,alt:"logo springfield vice"}),s.a.createElement("div",{className:"homerjumping"},s.a.createElement("img",{className:"homerjumpingimg",src:y.a,alt:"homerjumping"})),s.a.createElement("div",{className:"bart"},s.a.createElement("img",{className:"bartimg",src:B.a,alt:"bart"})),s.a.createElement("div",{className:"homervsbart"},s.a.createElement("div",{className:"neon"},"BART vs HOMER")),s.a.createElement(r.b,{to:{pathname:"/",search:"?modal=true"}},s.a.createElement("div",{className:"options"},s.a.createElement("span",null,"options"))),s.a.createElement(r.b,{to:"/game"},s.a.createElement("div",{id:"start",className:"start_button",onClick:function(){return t.startingGame()}},s.a.createElement("span",null,"play")))),e.get("modal")&&s.a.createElement(b,{close:function(){t.props.history.push(t.props.location.pathname)},modal:this.props.location.search,origin:"start"}))}}]),e}(o.Component)),I=i(30),D=i(18),G=(i(48),i(14)),L=i.n(G),R=i(31),C=i.n(R),Y=function(t){function e(t){var i;return Object(p.a)(this,e),(i=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={ripchain:!1,animeClass:"donutHide"},i}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this,e=this.props.positionY*h.homerSize.scale,i=this.props.donutCount>0?"block":"none",o=this.state.ripchain?"block":"none",n=this.props.isHomerRunningLeft?"homerRunLeft":"homerRun",a=this.props.isRunning?n:"homerStand",r=this.props.isThrowing?"homerThrow":a;this.props.isThrowing&&"donutHide"===this.state.animeClass&&(this.setState({animeClass:"donutThrow"}),setTimeout((function(){return t.setState({animeClass:"donutHide"})}),1e3));var l={display:i,width:h.donutSize.width},p={display:o,width:"60px",position:"absolute",left:"50%",bottom:"0"},m={width:"50px",height:"50px",backgroundColor:"transparent",left:"".concat(this.props.positionX,"px"),top:"".concat(this.props.positionY,"px"),transform:"scale("+e+")",position:"absolute",borderRadius:"50%",zIndex:this.props.positionY-10,filter:"hue-rotate(".concat(this.props.hue,"deg)")},c={width:"50px",height:"50px",backgroundColor:"transparent",left:"".concat(this.props.positionX,"px"),top:"".concat(this.props.positionY,"px"),transform:"scale("+e+")",position:"absolute",borderRadius:"50%",zIndex:this.props.positionY-10,animation:"blink 1s infinite"},u={backgroundColor:"transparent",paddingBottom:"30px",height:h.homerSize.height};return s.a.createElement("div",{id:"homer_full"},s.a.createElement("div",{style:0===this.props.isDead?c:m},s.a.createElement("div",{style:u,className:r}),s.a.createElement("img",{src:L.a,style:l,className:this.state.animeClass,alt:"donut"}),s.a.createElement("img",{src:C.a,style:p,alt:"ripchain"})))}}]),e}(o.Component),Q=i(32),S=i.n(Q),w={zone:document.getElementById("test"),threshold:.5,multitouch:!0,dataOnly:!1,position:{left:h.joystick.positionX,bottom:h.joystick.positionY},mode:"static",restJoystick:!0,restOpacity:.7,lockX:!1,lockY:!1,dynamicPage:!0},k=function(t){function e(t){var i;return Object(p.a)(this,e),(i=Object(c.a)(this,Object(u.a)(e).call(this,t))).joystickContainer={height:"100%",overflow:"hidden"},i.managerListener=function(t){t.on("start",(function(){i.props.startRunning()})),t.on("move",(function(){i.props.setStep(Math.floor(t[0].frontPosition.x)/h.joystick.vitesseX,Math.floor(t[0].frontPosition.y)/h.joystick.vitesseY)})),t.on("end",(function(){i.props.stopRunning()}))},i.state={},i}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t={display:this.props.displayJoystick?"none":"block"};return s.a.createElement("div",{id:"joystick",style:t},s.a.createElement(S.a,{options:w,containerStyle:this.joystickContainer,managerListener:this.managerListener}))}}]),e}(s.a.Component),P=function(t){function e(t){var i;return Object(p.a)(this,e),(i=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={},i}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement("div",null,s.a.createElement("h3",{style:{position:"absolute",right:"20px",top:"0px",color:"white",backgroundColor:"black",borderRadius:"15px",border:"solid 2px #ebdb34",padding:"10px",fontSize:"12pt",fontFamily:"Mansalva"}},"Timer: ",this.props.seconds," seconds"),s.a.createElement(r.b,{to:{pathname:"/game",search:"?modal=true"}},s.a.createElement("button",{style:{position:"absolute",right:"20px",top:"70px",fontFamily:"Mansalva"},onPointerDown:function(){t.props.pauseGame()}},"PAUSE")))}}]),e}(o.Component),X=i(16),x=i.n(X);function j(t){var e=t.donutPopped.map((function(e){var i="picked"===e.status||"thrown"===e.status?"none":"block",o={display:t.donutStyle,backgroundColor:"transparent",borderRadius:"50%",width:"50px",height:"50px",position:"absolute",top:e.positionDonutY,left:e.positionDonutX+t.donutPosition,transform:"scale("+e.positionDonutY*h.item.scale+")"},n={display:i,position:"absolute",width:"80%",margin:"auto"};return s.a.createElement("div",null,s.a.createElement("div",{style:o},s.a.createElement("img",{src:L.a,style:n,alt:"donut"})))}));return s.a.createElement("div",null,e)}function N(t){var e=t.beerPopped.map((function(e){var i="picked"===e.status||"thrown"===e.status?"none":"block",o={display:t.beerStyle,backgroundColor:"transparent",borderRadius:"50%",width:"40px",height:"40px",position:"absolute",top:e.positionBeerY,left:e.positionBeerX+t.beerPosition,transform:"scale("+e.positionBeerY*h.item.scale+")"},n={display:i,position:"absolute",width:"80%",margin:"auto"};return s.a.createElement("div",null,s.a.createElement("div",{style:o},s.a.createElement("img",{src:x.a,style:n,alt:"beer"})))}));return s.a.createElement("div",null,e)}var M=function(t){return s.a.createElement("div",null,s.a.createElement("div",{style:{backgroundColor:"rgb(255,255,255,0.6)",position:"absolute",top:0,right:"50%",borderRadius:"10px",padding:"5px"}},s.a.createElement("img",{src:L.a,style:{width:"30px"},alt:"donut counter"}),s.a.createElement("span",{style:{fontSize:"20px",bottom:"10px"}},"x ",t.donutCount)))};var U=function(t){var e={display:t.displayButtonA?"none":"block"};return s.a.createElement("div",{id:"button_A",style:e},s.a.createElement("button",{style:{backgroundColor:"yellow",padding:"20px",borderRadius:"50%",color:"black",position:"absolute",bottom:"30px",right:"30px"},onPointerDown:t.throwingDonut,onPointerUp:t.stopThrowingDonut},"A"))},T=(i(49),i(50),function(t){function e(t){var i;return Object(p.a)(this,e),(i=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={},i}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t={width:"30px",height:"30px",backgroundColor:"",borderRadius:"50%",position:"absolute",left:this.props.positionSelmaX,top:this.props.positionSelmaY,transform:"scale("+this.props.positionSelmaY*h.selma.scale+")",transition:"0.8s"};return s.a.createElement("div",null,s.a.createElement("div",{id:"Selma",style:t},s.a.createElement("div",{className:"selmaWalk",style:{width:"50px",height:"70px",position:"absolute",left:"-20px",top:"-20px",margin:0,padding:0}})))}}]),e}(o.Component)),q=i(22),F=i.n(q),H=function(t){function e(t){var i;return Object(p.a)(this,e),(i=Object(c.a)(this,Object(u.a)(e).call(this,t))).counterHealth=function(){var t=i.props.beerCounter-i.props.obstCounter;t>5&&(t=5),t<0&&(t=0);var e={width:"30px",height:"auto"},o={display:"none",width:"30px",height:"auto"},n=s.a.createElement("div",null,s.a.createElement("img",{src:x.a,alt:"duff beer",style:e}),s.a.createElement("img",{src:F.a,alt:"empty beer",style:o})),a=s.a.createElement("div",null,s.a.createElement("img",{src:x.a,alt:"duff beer",style:o}),s.a.createElement("img",{src:F.a,alt:"empty beer",style:e})),r={display:"flex",flexFlow:"row nowrap",justifyContent:"center",alignItems:"center"};switch(t){case 0:return s.a.createElement("div",{style:r},a,a,a,a,a);case 1:return s.a.createElement("div",{style:r},n,a,a,a,a);case 2:return s.a.createElement("div",{style:r},n,n,a,a,a);case 3:return s.a.createElement("div",{style:r},n,n,n,a,a);case 4:return s.a.createElement("div",{style:r},n,n,n,n,a);case 5:default:return s.a.createElement("div",{style:r},n,n,n,n,n)}},i.state={},i}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{id:"divHealth",style:{width:"200px",height:"auto",borderRadius:"10px",backgroundColor:"rgb(255,255,255,0.6)",position:"absolute",left:"10px",top:"0px"}},this.counterHealth())}}]),e}(o.Component),W=function(t,e){return Math.random()*(e-t)+t},z=i(33),_=i.n(z);var K=function(t){var e=t.obstaclePopped.map((function(e){var i={backgroundColor:"transparent",borderRadius:"50%",width:"50px",height:"50px",position:"absolute",top:e.positionObstacleY,left:e.positionObstacleX+t.obstaclePosition,transform:"scale("+e.positionObstacleY*h.obstacle.scale+")",zIndex:e.positionObstacleY};return s.a.createElement("div",null,s.a.createElement("div",{style:i},s.a.createElement("img",{src:_.a,style:{position:"absolute",width:"100%",margin:"auto"},alt:"Poubelle"})))}));return s.a.createElement("div",null,e)},Z=(i(51),function(t){function e(t){var i;return Object(p.a)(this,e),(i=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={},i}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t={width:"30px",height:"30px",backgroundColor:"",borderRadius:"50%",position:"absolute",left:this.props.positionBartX,top:this.props.positionBartY,transform:"scale("+this.props.positionBartY*h.bart.scale+")",transition:"0.8s"};return s.a.createElement("div",null,s.a.createElement("div",{id:"Bart",style:t},s.a.createElement("div",{className:"bartRun",style:{width:"43px",height:"50px",position:"absolute",left:"-20px",top:"-20px",margin:0,padding:0}})))}}]),e}(o.Component)),J=(i(52),function(t){function e(t){var i;return Object(p.a)(this,e),(i=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={},i}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t={width:"30px",height:"30px",backgroundColor:"",borderRadius:"50%",position:"absolute",left:this.props.positionSeymourX,top:this.props.positionSeymourY,transform:"scale("+this.props.positionSeymourY*h.seymour.scale+")",transition:"0.8s"};return s.a.createElement("div",null,s.a.createElement("div",{id:"Seymour",style:t},s.a.createElement("div",{className:"seymourWalk",style:{width:"40px",height:"70px",position:"absolute",left:"-20px",top:"-20px",margin:0,padding:0}})))}}]),e}(o.Component));function V(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function $(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?V(i,!0).forEach((function(e){Object(I.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):V(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var tt={GROUND:"ground",PICKED:"picked",THROWN:"thrown"},et={GROUND:"ground",PICKED:"picked"},it={GROUND:"ground",PICKED:"picked"},ot=function(t){function e(t){var i;return Object(p.a)(this,e),(i=Object(c.a)(this,Object(u.a)(e).call(this,t))).testLimitsOfMap=function(){i.state.positionY<h.limits.topLimit?i.setState({positionY:h.limits.topLimit}):i.state.positionY>h.limits.bottomLimit?i.setState({positionY:h.limits.bottomLimit}):i.state.positionX>h.limits.rightLimit?i.setState({positionX:h.limits.rightLimit}):i.state.positionX<h.limits.leftLimit&&i.setState({positionX:h.limits.leftLimit})},i.setStep=function(t,e){i.stepX=t,i.stepY=e},i.move=function(){var t=i.state,e=t.positionX,o=t.positionY;i.setState({positionX:e+i.stepX,positionY:o+i.stepY,moving:!0}),i.stepX<0?i.setState({isHomerRunningLeft:!0}):i.stepX>0&&i.setState({isHomerRunningLeft:!1}),!1===i.state.isRunning&&i.stopRunning(),e!==h.limits.leftLimit&&i.setState({relativePositionX:i.state.positionX-i.state.defilement,defilement:i.state.defilement-i.stepX/h.background.defilement})},i.startRunning=function(){i.setState({isRunning:!0}),i.state.intervalHomer=setInterval((function(){return i.move()}),50)},i.stopRunning=function(){i.setState({isRunning:!1}),clearInterval(i.state.intervalHomer)},i.moveSelma=function(){var t=0;i.intSelma=setInterval((function(){var e=i.state.selmaPos.SelmaMovX[t],o=i.state.selmaPos.SelmaMovY[t];i.setState({selmaPos:$({},i.state.selmaPos,{positionSelmaX:e,positionSelmaY:o})}),++t>=i.state.selmaPos.SelmaMovX.length&&(t=0)}),1e3)},i.moveSeymour=function(){var t=0;i.intSeymour=setInterval((function(){var e=i.state.seymourPos.SeymourMovX[t],o=i.state.seymourPos.SeymourMovY[t];i.setState({seymourPos:$({},i.state.seymourPos,{positionSeymourX:e,positionSeymourY:o})}),++t>=i.state.seymourPos.SeymourMovX.length&&(t=0)}),1e3)},i.moveBart=function(){var t=0;i.intBart=setInterval((function(){var e=i.state.bartPos.BartMovX[t],o=i.state.bartPos.BartMovY[t];i.setState({bartPos:$({},i.state.bartPos,{positionBartX:e,positionBartY:o})}),++t>=i.state.bartPos.BartMovX.length&&(t=0)}),1e3)},i.tick=function(){var t=i.state.seconds;i.setState({seconds:t-1}),0===t&&(i.setState({seconds:0}),clearInterval(i.interval))},i.isGameOver=function(){var t=i.beerCount()-i.obstacleCollisionCount();if((0===i.state.seconds||t<=0)&&(i.stopRunning(),clearInterval(i.interval),setTimeout((function(){i.props.history.push("game/?modal=true&go=true"),i.setState({origin:"go_lost"})}),3e3)),100===i.beerCount())return i.stopRunning(),clearInterval(i.interval),i.props.history.push("game/?modal=true&go=true"),void i.setState({origin:"go_win"})},i.componentDidMount=function(){i.interval=setInterval((function(){i.tick(),i.isGameOver()}),1e3),setInterval((function(){return i.gameLoop()}),80),i.moveSelma(),i.moveBart(),i.moveSeymour()},i.pauseTimer=function(){!1===i.state.paused||0===i.state.seconds?(clearInterval(i.interval),clearInterval(i.intSelma),clearInterval(i.intBart),clearInterval(i.intSeymour)):i.componentDidMount()},i.pauseGame=function(){i.setState({paused:!i.state.paused}),i.pauseTimer(),document.getElementById("joystick").style.opacity="0.7",document.getElementById("button_A").style.opacity="1",document.getElementById("obstacle_full").style.opacity="1",document.getElementById("homer_full").style.opacity="1"},i.collisionDetection=function(t){i.state.relativePositionX>t.positionDonutX-30&&i.state.relativePositionX<t.positionDonutX+30&&i.state.positionY<t.positionDonutY+30&&i.state.positionY>t.positionDonutY-30&&"ground"===t.status&&(t.status="picked")},i.collisionDetectionBeer=function(t){i.state.relativePositionX>t.positionBeerX-30&&i.state.relativePositionX<t.positionBeerX+30&&i.state.positionY<t.positionBeerY+30&&i.state.positionY>t.positionBeerY-30&&"ground"===t.status&&(i.state.homerCollisionHue>0&&i.setState({homerCollisionHue:i.state.homerCollisionHue-30}),t.status="picked")},i.collisionDetectionObstacle=function(t){i.state.relativePositionX>t.positionObstacleX-10&&i.state.relativePositionX<t.positionObstacleX+10&&i.state.positionY<t.positionObstacleY+30&&i.state.positionY>t.positionObstacleY-30&&(i.setState({isRunning:!1,isBlocked:!0,homerCollisionHue:i.state.homerCollisionHue+30}),t.status="picked")},i.collisionBart=function(t){if(i.state.relativePositionX>t.positionBartX-15&&i.state.relativePositionX<t.positionBartX+20&&i.state.positionY<t.positionBartY+40&&i.state.positionY>t.positionBartY-60)return i.props.history.push("game/?modal=true&go=true"),i.setState({origin:"go_win"}),i.stopRunning(),void clearInterval(i.interval)},i.donutCount=function(){var t=0;return i.state.donutPopped.map((function(e){return"picked"===e.status?t+=1:t+=0})),t},i.beerCount=function(){var t=3;return i.state.beerPopped.map((function(e){return"picked"===e.status?t+=1:t+=0})),t},i.obstacleCollisionCount=function(){var t=0;return i.state.obstaclePopped.map((function(e){return"picked"===e.status?t+=1:t+=0})),t},i.throwingDonut=function(){i.setState({isThrowing:!0});var t=i.state.donutPopped.findIndex((function(t){return"picked"===t.status}));console.log(t),t<0&&(t=0);var e=i.state.donutPopped;e[t].status=tt.THROWN,i.setState({donutPopped:e})},i.stopThrowingDonut=function(){i.setState({isThrowing:!1,displayDonut:!1})},i.gameLoop=function(){i.state.donutPopped.map((function(t){return i.collisionDetection(t)})),i.state.beerPopped.map((function(t){return i.collisionDetectionBeer(t)})),i.collisionBart(i.state.bartPos),i.state.obstaclePopped.map((function(t){i.collisionDetectionObstacle(t)})),i.testLimitsOfMap()},i.hideButtons=function(){clearInterval(i.interval);var t=document.getElementById("joystick");null!==t&&(t.style.opacity="0",document.getElementById("button_A").style.opacity="0",document.getElementById("obstacle_full").style.opacity="0.9",document.getElementById("homer_full").style.opacity="0.9")},i.state={positionX:h.initialPosition.x,positionY:h.initialPosition.y,showModal:!1,seconds:h.timer.seconds,paused:!1,donutPosition:0,obstaclePosition:0,positionDecal:0,positionDonutY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),catchDonut:!1,moving:!1,isBlocked:!1,isThrowing:!1,homerCollisionHue:0,donutPopped:[{positionDonutX:parseInt(W(h.limits.leftLimit,1e3)),positionDonutY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:tt.GROUND,display:!0},{positionDonutX:parseInt(W(1e3,2e3)),positionDonutY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:tt.GROUND,display:!0},{positionDonutX:parseInt(W(1e3,2e3)),positionDonutY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:tt.GROUND,display:!0},{positionDonutX:parseInt(W(2e3,3e3)),positionDonutY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:tt.GROUND,display:!0},{positionDonutX:parseInt(W(2e3,3e3)),positionDonutY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:tt.GROUND,display:!0},{positionDonutX:parseInt(W(3e3,4e3)),positionDonutY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:tt.GROUND,display:!0},{positionDonutX:parseInt(W(3e3,4e3)),positionDonutY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:tt.GROUND,display:!0},{positionDonutX:parseInt(W(3e3,4e3)),positionDonutY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:tt.GROUND,display:!0},{positionDonutX:parseInt(W(4e3,5e3)),positionDonutY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:tt.GROUND,display:!0},{positionDonutX:parseInt(W(4500,5500)),positionDonutY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:tt.GROUND,display:!0},{positionDonutX:parseInt(W(4500,5500)),positionDonutY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:tt.GROUND,display:!0}],beerPopped:[{positionBeerX:parseInt(W(h.limits.leftLimit,1e3)),positionBeerY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:et.GROUND},{positionBeerX:parseInt(W(1e3,2e3)),positionBeerY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:et.GROUND},{positionBeerX:parseInt(W(2e3,3e3)),positionBeerY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:et.GROUND},{positionBeerX:parseInt(W(2e3,3e3)),positionBeerY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:et.GROUND},{positionBeerX:parseInt(W(3e3,4e3)),positionBeerY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:et.GROUND},{positionBeerX:parseInt(W(4e3,5e3)),positionBeerY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:et.GROUND},{positionBeerX:parseInt(W(4e3,5e3)),positionBeerY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:et.GROUND},{positionBeerX:parseInt(W(5e3,6e3)),positionBeerY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:et.GROUND}],obstaclePopped:[{positionObstacleX:parseInt(W(h.limits.leftLimit+100,1e3)),positionObstacleY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:it.GROUND},{positionObstacleX:parseInt(W(h.limits.leftLimit+100,1e3)),positionObstacleY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:it.GROUND},{positionObstacleX:parseInt(W(1e3,2e3)),positionObstacleY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:it.GROUND},{positionObstacleX:parseInt(W(1e3,2e3)),positionObstacleY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:it.GROUND},{positionObstacleX:parseInt(W(2e3,3e3)),positionObstacleY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:it.GROUND},{positionObstacleX:parseInt(W(2e3,3e3)),positionObstacleY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:it.GROUND},{positionObstacleX:parseInt(W(3e3,4e3)),positionObstacleY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:it.GROUND},{positionObstacleX:parseInt(W(3e3,4e3)),positionObstacleY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:it.GROUND},{positionObstacleX:parseInt(W(3e3,4e3)),positionObstacleY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:it.GROUND},{positionObstacleX:parseInt(W(3e3,4e3)),positionObstacleY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:it.GROUND},{positionObstacleX:parseInt(W(4e3,5e3)),positionObstacleY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:it.GROUND},{positionObstacleX:parseInt(W(4e3,5e3)),positionObstacleY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:it.GROUND},{positionObstacleX:parseInt(W(5e3,5500)),positionObstacleY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:it.GROUND},{positionObstacleX:parseInt(W(5e3,5500)),positionObstacleY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:it.GROUND},{positionObstacleX:parseInt(W(5e3,5500)),positionObstacleY:parseInt(W(h.limits.topLimit,h.limits.bottomLimit)),status:it.GROUND}],relativePositionX:h.initialPosition.x,isRunning:!1,isHomerRunningLeft:!1,selmaPos:{positionSelmaX:1400,positionSelmaY:130,SelmaMovX:[1420,1420,1400,1350,1350,1300,1280,1280,1250,1250,1220,1220,1200,1200,1250,1250,1280,1300,1320,1350,1380],SelmaMovY:[150,180,180,200,230,250,250,220,200,200,180,180,150,150,140,140,130,130,130,140,140]},seymourPos:{positionSeymourX:600,positionSeymourY:250,SeymourMovX:[600,620,620,600,580,580,550,550,530,530,520,500,500,520,550,550,580,580,580,580],SeymourMovY:[250,250,250,250,230,230,200,200,220,220,220,220,250,250,210,210,230,230,240,240]},bartPos:{positionBartX:6e3,positionBartY:200,BartMovX:[6e3,6e3,6e3,6020,6020,6050,6050,6100,6100,6150,6150,6200,6250,6250,6300,6300,6250,6250,6200,6200,6100,6050],BartMovY:[200,250,250,250,300,300,300,300,250,250,300,300,250,250,200,200,230,230,200,200,180,180]},globalPosition:0,defilement:0},i.stepX=0,i.stepY=0,i.tick=i.tick.bind(Object(D.a)(i)),i.interval=void 0,i.intObs=void 0,i.displayBarrel="none",i}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this,e=new URLSearchParams(this.props.location.search),i={backgroundPositionY:h.background.position,backgroundPositionX:-this.state.positionX/h.background.defilement,height:h.background.height},o=3+this.beerCount()-this.obstacleCollisionCount();return s.a.createElement("div",{className:"game",style:i},s.a.createElement("audio",{ref:"audio_tag",src:"http://www.allard-jacquin.com/simpsons2.mp3",controls:!0,autoPlay:!0,type:"audio/mp3"}),s.a.createElement(T,{positionSelmaX:this.state.selmaPos.positionSelmaX+this.state.defilement,positionSelmaY:this.state.selmaPos.positionSelmaY,selmaPos:this.state.selmaPos}),s.a.createElement(J,{positionSeymourX:this.state.seymourPos.positionSeymourX+this.state.defilement,positionSeymourY:this.state.seymourPos.positionSeymourY,seymourPos:this.state.seymourPos}),s.a.createElement(j,{donutPopped:this.state.donutPopped,donutPosition:this.state.defilement}),s.a.createElement(N,{beerPopped:this.state.beerPopped,beerPosition:this.state.defilement}),s.a.createElement("div",{id:"obstacle_full"},s.a.createElement(K,{obstaclePopped:this.state.obstaclePopped,obstaclePosition:this.state.defilement})),s.a.createElement(Z,{positionBartX:this.state.bartPos.positionBartX+this.state.defilement,positionBartY:this.state.bartPos.positionBartY}),s.a.createElement(Y,{positionX:this.state.positionX,positionY:this.state.positionY,isRunning:this.state.isRunning,isHomerRunningLeft:this.state.isHomerRunningLeft,donutCount:this.donutCount(),isThrowing:this.state.isThrowing,isDead:o,hue:this.state.homerCollisionHue}),s.a.createElement(M,{donutCount:this.donutCount()}),s.a.createElement(H,{beerCounter:this.beerCount(),obstCounter:this.obstacleCollisionCount()}),s.a.createElement(k,{setStep:this.setStep,startRunning:this.startRunning,stopRunning:this.stopRunning,toTheRight:this.toTheRight,toTheLeft:this.toTheLeft,toTheTop:this.toTheTop,toTheBottom:this.toTheBottom,displayJoystick:this.state.paused}),s.a.createElement(U,{throwingDonut:this.throwingDonut,stopThrowingDonut:this.stopThrowingDonut,displayButtonA:this.state.paused}),s.a.createElement(P,{pauseGame:this.pauseGame,seconds:this.state.seconds}),e.get("modal")&&s.a.createElement(b,{close:function(){t.props.history.push(t.props.location.pathname)},modal:this.props.location.search,origin:this.state.origin,resume:function(){return t.pauseGame()},hide:function(){return t.hideButtons()}}))}}]),e}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var st=s.a.createElement(r.a,null,s.a.createElement(l.c,null,s.a.createElement(l.a,{exact:!0,path:"/",component:O}),s.a.createElement(l.a,{path:"/game",component:ot})));a.a.render(st,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}],[[34,1,2]]]);
//# sourceMappingURL=main.bde2f71d.chunk.js.map